"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5633],{29703:function(n,t,i){i.r(t),i.d(t,{default:function(){return u}});var e=i(27378),a=i(4669),o=i(65779),s=i(62339),r=i(62594),c=i(94203);i(42668);function l(n,t,i,e,a,o,s){try{var r=n[o](s),c=r.value}catch(l){return void i(l)}r.done?t(c):Promise.resolve(c).then(e,a)}var u=n=>{var{data:{homepageLink:t,notificationsLink:i,accountLabel:u,signInLabel:p,accessibilityLinks:d,searchLink:g,menuLabel:h,moreLabel:m,closeButtonLabel:L,navigationLinks:f},showChameleonLogo:b}=n,v="https://account.bbc.com/account",_=(0,o.TH)(),{host:y,language:k}=(0,r.B)(),I=!k||"cy"!==k&&"gd"!==k&&"en"!==k||k.endsWith("-GB")?k:"".concat(k,"-GB"),D="https://".concat(y).concat(_.pathname),[E,w]=(0,e.useState)({signedIn:!1,prompt:u,url:v}),A="ckns_id",B=y&&!y.endsWith(".com")?"https://idcta.api.bbc.co.uk/idcta/config":"https://idcta.api.bbc.com/idcta/config";return(0,e.useEffect)((()=>{var n=(0,s.ej)(A).ckns_id,t=new AbortController,{signal:i}=t,e=function(){var t,e=(t=function*(){try{var t=yield(0,a.Z)(B,{signal:i}),e=yield t.json();if("GREEN"===e["id-availability"])if(n)try{var o=JSON.parse(window.atob(n));w({signedIn:!0,prompt:o.dn?o.dn:u,url:v,hasDisplayName:!!o.dn})}catch(s){w({signedIn:!1,prompt:p,url:e.signin_url})}else w({signedIn:!1,prompt:p,url:e.signin_url})}catch(r){w({signedIn:!1,prompt:u,url:v})}},function(){var n=this,i=arguments;return new Promise((function(e,a){var o=t.apply(n,i);function s(n){l(o,e,a,s,r,"next",n)}function r(n){l(o,e,a,s,r,"throw",n)}s(void 0)}))});return function(){return e.apply(this,arguments)}}();return e(),()=>{t.abort()}}),[u,B,p]),e.createElement(c.Z,{signedIn:E.signedIn,signInPrompt:E.prompt,signInUrl:E.url,hasDisplayName:E.hasDisplayName,signInPtrt:D,language:I,homepageLink:t,notificationsLink:i,accessibilityLinks:d,searchLink:g,menuLabel:h,moreLabel:m,closeButtonLabel:L,items:f,showChameleonLogo:b})}}}]);